{"version":3,"sources":["global.js","challenges.js","idea-creation.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["$(function () {\r\n  $('[data-toggle=\"tooltip\"]').tooltip();\r\n});\r\n\r\njQuery.fn.extend({\r\ninsertAtCaret: function(myValue){\r\n  return this.each(function(i) {\r\n    if (document.selection) {\r\n      //For browsers like Internet Explorer\r\n      this.focus();\r\n      sel = document.selection.createRange();\r\n      sel.text = myValue;\r\n      this.focus();\r\n    }\r\n    else if (this.selectionStart || this.selectionStart == '0') {\r\n      //For browsers like Firefox and Webkit based\r\n      var startPos = this.selectionStart;\r\n      var endPos = this.selectionEnd;\r\n      var scrollTop = this.scrollTop;\r\n      this.value = this.value.substring(0, startPos)+myValue+this.value.substring(endPos,this.value.length);\r\n      this.focus();\r\n      this.selectionStart = startPos + myValue.length;\r\n      this.selectionEnd = startPos + myValue.length;\r\n      this.scrollTop = scrollTop;\r\n    } else {\r\n      this.value += myValue;\r\n      this.focus();\r\n    }\r\n  })\r\n}\r\n});","/*DATE*/\r\njQuery('img.svg').each(function(){\r\n  var $img = jQuery(this);\r\n  var imgID = $img.attr('id');\r\n  var imgClass = $img.attr('class');\r\n  var imgURL = $img.attr('src');\r\n\r\n  jQuery.get(imgURL, function(data) {\r\n      // Get the SVG tag, ignore the rest\r\n      var $svg = jQuery(data).find('svg');\r\n\r\n      // Add replaced image's ID to the new SVG\r\n      if(typeof imgID !== 'undefined') {\r\n          $svg = $svg.attr('id', imgID);\r\n      }\r\n      // Add replaced image's classes to the new SVG\r\n      if(typeof imgClass !== 'undefined') {\r\n          $svg = $svg.attr('class', imgClass+' replaced-svg');\r\n      }\r\n\r\n      // Remove any invalid XML tags as per http://validator.w3.org\r\n      $svg = $svg.removeAttr('xmlns:a');\r\n\r\n      // Replace image with new SVG\r\n      $img.replaceWith($svg);\r\n\r\n  }, 'xml');\r\n\r\n});\r\n\r\n$('document').ready(function(){\r\n  \r\n  /*INJECT DAYS LEFT*/\r\n  todayDate = dateFns.format(new Date(), 'YYYY/MM/DD');\r\n  startDate = $('.progress.timeline').attr('data-start-date');\r\n  endDate = $('.progress.timeline').attr('data-end-date');\r\n  daysLeft = dateFns.differenceInCalendarDays(endDate, todayDate);\r\n  \r\n  if (daysLeft < 0){\r\n    $('.time-left-indic').text('0 day left');\r\n  }\r\n  else{\r\n    $('.time-left-indic').text(daysLeft + ' days left');\r\n  }\r\n    \r\n  /*JAUGE*/\r\n  totalDays = dateFns.differenceInCalendarDays(endDate, startDate);\r\n  currentPos = dateFns.differenceInCalendarDays(todayDate, startDate);\r\n  posProgressBar = (currentPos / totalDays) * 100;\r\n  $('.progress-bar').css('width', posProgressBar + '%');\r\n  \r\n  /*IMG POINTS*/\r\n  \r\n  nbIdeas = $('.panel-idea').length;\r\n  \r\n  nbLikes = 0;\r\n  $('.stat-container--like .stat-indic').each(function(index){\r\n    transformNB = parseInt($(this).text());\r\n    nbLikes = nbLikes + transformNB;\r\n  });\r\n  \r\n  nbRebounds = 0;\r\n  $('.stat-container--rebound .stat-indic').each(function(index){\r\n    transformNB = parseInt($(this).text());\r\n    nbRebounds = nbRebounds + transformNB;\r\n  });\r\n  \r\n  totalPoints = (nbIdeas * 10) + (nbLikes * 1) - (nbRebounds * 5);\r\n  $('#img-points').text(totalPoints);\r\n  \r\n  $('.js-animate-points').addClass('animated shake');\r\n  \r\n  $('.counter').each(function () {\r\n      $(this).prop('Counter',0).animate({\r\n          Counter: $(this).text()\r\n      }, {\r\n          duration: 1000,\r\n          easing: 'swing',\r\n          step: function (now) {\r\n              $(this).text(Math.ceil(now));\r\n          }\r\n      });\r\n  });\r\n\r\n});\r\n\r\n\r\n\r\n/*ADMIN COLORS*/\r\n\r\n$('.color-list li').each(function(index){\r\n  dataColor = $(this).attr('data-color');\r\n  $(this).css('background-color', dataColor);\r\n});\r\n\r\n$('.color-list').on('click', 'li', function(){\r\n  $('.color-list li').removeClass('selected');\r\n  $(this).addClass('selected');\r\n  $('.challenge-color').val($(this).attr('data-color'));\r\n});","function checkFirstTime(currentTab){\r\n  console.log(currentTab);\r\n  nbSelected = $('.tabs-scenario .tab-pane').eq(currentTab).find('.panel-element--selected').length;\r\n  if (nbSelected > 0){\r\n    return false;\r\n  }\r\n  else{\r\n    return true;\r\n  }\r\n}\r\n\r\ncurrentTab = 0;\r\nallowNext = false;\r\n\r\n$('.js-btn-element-next').on('click', function(){\r\n  $('.js-btn-element-previous').removeAttr('disabled');\r\n  currentTab++;\r\n  \r\n  if (currentTab == 5){\r\n      $('.js-btn-element-next').attr('disabled', 'disabled');\r\n  }\r\n\r\n  if (currentTab+1 > $('.ideas-create .tab-pane').length){\r\n    currentTab--;\r\n  }\r\n  else{\r\n    $('.tab-pane--active').next().addClass('in active tab-pane--active');\r\n    $('.tab-pane--active').first().removeClass('in active tab-pane--active');\r\n  }\r\n\r\n});\r\n\r\n$('.js-btn-element-previous').on('click', function(){\r\n  $('.js-btn-element-next').removeAttr('disabled');\r\n  currentTab--;\r\n  \r\n  if (currentTab == '0'){\r\n    $('.js-btn-element-previous').attr('disabled', 'disabled');\r\n  }\r\n\r\n  if (currentTab < 0){\r\n    currentTab++;\r\n  }\r\n  else{\r\n    $('.tab-pane--active').prev().addClass('in active tab-pane--active');\r\n    $('.tabs-scenario .tab-pane').eq(currentTab+1).removeClass('in active tab-pane--active');\r\n\r\n  }\r\n});\r\n\r\n$('.tabs-scenario .panel-element').on('click', function(){\r\n\r\n  $elementText = $(this).find('.panel-body strong').text();\r\n  $elementRating = $(this).find('.panel-footer').children().clone();\r\n\r\n  $(this).closest('.tab-pane').find('.panel-element').removeClass('panel-element--selected');\r\n  $(this).addClass('panel-element--selected');\r\n  $('.element-recap').eq(currentTab).find('.panel-element').removeClass('panel-element--filling').addClass('panel-element--filled');\r\n\r\n  /*CLEAN DIV*/\r\n  $('.element-recap').eq(currentTab).find('.panel-element .placeholder-plus').remove();\r\n  $('.element-recap').eq(currentTab).find('.panel-element .panel-body').children().remove();\r\n  $('.element-recap').eq(currentTab).find('.panel-element .panel-footer').children().remove();\r\n\r\n\r\n  /*INSERT DATA*/\r\n  $('.element-recap').eq(currentTab).find('.panel-element .panel-body').html('<strong>' + $elementText +'</strong>');\r\n  $('.story').eq(currentTab).text($elementText);\r\n  $('.element-recap').eq(currentTab).find('.panel-element .panel-footer').html($elementRating);\r\n\r\n  /*Fill form elements hidden input*/\r\n  $('.elements-form input').eq(currentTab).val($elementText);\r\n  $('input[name=rebound]').val(false);\r\n\r\n  var elementsFilled = $('.panel-element--filled').length;\r\n\r\n  if (elementsFilled === $('.element-recap').length){\r\n      $('.js-btn-switch-write').attr('disabled', false).removeClass('btn-main--disabled');\r\n    }\r\n\r\n});\r\n\r\n\r\n$('.js-btn-switch-write').on('click', function(){\r\n  $('.ideas-create').hide('fast');\r\n  $('.ideas-propose').show('fast');\r\n  $(this).hide('fast');\r\n});\r\n\r\n$('.js-modify-elements').on('click', function(){\r\n  $('.ideas-propose').hide('fast');\r\n  $('.ideas-create').show('fast');\r\n  $('.js-btn-switch-write').show('fast');\r\n});\r\n\r\n//rebound\r\n"],"sourceRoot":"/source/"}